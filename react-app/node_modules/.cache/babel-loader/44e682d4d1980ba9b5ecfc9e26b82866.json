{"ast":null,"code":"var _jsxFileName = \"/home/bitsssun/workspace/react-django-pagination/react-app/src/ListPost/index.js\";\nimport axios from 'axios';\nimport './styles.css';\nimport { POSTS_URL, LOCAL_URL } from '../utils/index';\nimport React, { Component } from 'react';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\nimport DeleteIcon from '@material-ui/icons/Delete';\nexport default class ListPost extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      posts: [],\n      links: ''\n    };\n\n    this.loadPosts = async url => {\n      await axios.get(url).then(res => {\n        console.log(res.data);\n        const posts = res.data.results;\n        this.setState({\n          posts,\n          links: res.data.links\n        });\n      });\n    };\n\n    this.handleDelete = id => {\n      let DELETE_URL = POSTS_URL + id;\n      axios.delete(DELETE_URL).then(res => {\n        alert(\"Postagem deletada com sucesso !\");\n        window.scrollTo(0, 0);\n      });\n    };\n\n    this.handleUpdate = post => {\n      console.log(post);\n    };\n\n    this.prevPage = () => {\n      let toPage = this.state.links.previous;\n      this.loadPosts(toPage);\n    };\n\n    this.nextPage = () => {\n      let toPage = this.state.links.next;\n      this.loadPosts(toPage);\n    };\n  }\n\n  componentDidMount() {\n    this.loadPosts(POSTS_URL);\n  }\n\n  render() {\n    const {\n      links\n    } = this.state;\n    const {\n      posts\n    } = this.state;\n    return React.createElement(\"div\", {\n      className: \"posts-list\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      align: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, \"Lista de postagens\"), React.createElement(\"a\", {\n      href: LOCAL_URL,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, \"Cadastrar nova postagem\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"pagination\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      disabled: links.previous === null,\n      onClick: this.prevPage,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, \"Anterior\"), React.createElement(\"button\", {\n      disabled: links.next === null,\n      onClick: this.nextPage,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, \"Pr\\xF3ximo\")), React.createElement(\"div\", {\n      className: \"content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(Table, {\n      className: \"\",\n      \"aria-label\": \"simple table\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(TableHead, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(TableRow, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(TableCell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, \"T\\xEDtulo\"), React.createElement(TableCell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, \"Autor\"), React.createElement(TableCell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, \"Mensagem\"), React.createElement(TableCell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, \"Data\"), React.createElement(TableCell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, \"A\\xE7\\xF5es\"))), React.createElement(TableBody, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, posts.map(post => {\n      return React.createElement(React.Fragment, null, React.createElement(TableRow, {\n        key: post.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, post.title), React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, post.author), React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, post.body), React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, post.publish), React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, React.createElement(IconButton, {\n        \"aria-label\": \"delete\",\n        onClick: () => this.handleDelete(post.id),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(DeleteIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      })), React.createElement(IconButton, {\n        \"aria-label\": \"update\",\n        onClick: () => this.handleUpdate(post),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(CloudUploadIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      })))));\n    })))));\n  }\n\n}","map":{"version":3,"sources":["/home/bitsssun/workspace/react-django-pagination/react-app/src/ListPost/index.js"],"names":["axios","POSTS_URL","LOCAL_URL","React","Component","Table","TableBody","TableCell","TableHead","TableRow","IconButton","CloudUploadIcon","DeleteIcon","ListPost","state","posts","links","loadPosts","url","get","then","res","console","log","data","results","setState","handleDelete","id","DELETE_URL","delete","alert","window","scrollTo","handleUpdate","post","prevPage","toPage","previous","nextPage","next","componentDidMount","render","map","title","author","body","publish"],"mappings":"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","sourcesContent":["import axios from 'axios'\nimport './styles.css'\nimport { POSTS_URL, LOCAL_URL } from '../utils/index'\nimport React, { Component } from 'react'\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\nimport DeleteIcon from '@material-ui/icons/Delete';\n\nexport default class ListPost extends Component {\n    state = {\n        posts: [],\n        links: '',\n    }\n\n    componentDidMount() {\n        this.loadPosts(POSTS_URL)\n    }\n\n    loadPosts = async (url) => {\n        await axios.get(url)\n            .then((res) => {\n                console.log(res.data);\n                const posts = res.data.results\n                this.setState({\n                    posts,\n                    links: res.data.links,\n                })\n\n            })\n    }\n\n    handleDelete = (id) => {\n        let DELETE_URL = POSTS_URL + id;\n        axios.delete(DELETE_URL)\n            .then(res => {\n                alert(\"Postagem deletada com sucesso !\");\n                window.scrollTo(0, 0);\n\n            });\n\n    }\n\n    handleUpdate = (post) => {\n        console.log(post)\n\n    }\n\n    prevPage = () => {\n        let toPage = this.state.links.previous\n        this.loadPosts(toPage);\n    }\n\n    nextPage = () => {\n        let toPage = this.state.links.next\n        this.loadPosts(toPage);\n    }\n\n    render() {\n        const { links } = this.state\n        const { posts } = this.state\n\n        return (\n            <div className=\"posts-list\">\n                <h1 align=\"center\">Lista de postagens</h1>\n\n                <a href={LOCAL_URL}>Cadastrar nova postagem</a><br /><br />\n\n                <div className=\"pagination\">\n                    <button disabled={links.previous === null} onClick={this.prevPage}>Anterior</button>\n                    <button disabled={links.next === null} onClick={this.nextPage}>Próximo</button>\n                </div>\n\n                <div className=\"content\">\n                    <Table className=\"\" aria-label=\"simple table\">\n                        <TableHead>\n                            <TableRow>\n                                <TableCell>Título</TableCell>\n                                <TableCell>Autor</TableCell>\n                                <TableCell>Mensagem</TableCell>\n                                <TableCell>Data</TableCell>\n                                <TableCell>Ações</TableCell>\n                            </TableRow>\n                        </TableHead>\n                        <TableBody>\n                            {posts.map((post) => {\n                                return <>\n                                    <TableRow key={post.id}>\n\n                                        <TableCell>{post.title}</TableCell>\n                                        <TableCell>{post.author}</TableCell>\n                                        <TableCell>{post.body}</TableCell>\n                                        <TableCell>{post.publish}</TableCell>\n                                        <TableCell>\n                                            <IconButton aria-label=\"delete\" onClick={() => this.handleDelete(post.id)}>\n                                                <DeleteIcon />\n                                            </IconButton>\n                                            <IconButton aria-label=\"update\" onClick={() => this.handleUpdate(post)}>\n                                                <CloudUploadIcon />\n                                            </IconButton>\n                                        </TableCell>\n                                    </TableRow>\n                                </>\n                            })}\n\n                        </TableBody>\n                    </Table>\n                </div>\n            </div>\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}