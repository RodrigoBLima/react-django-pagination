{"ast":null,"code":"var _jsxFileName = \"/home/bitsssun/workspace/react-django-pagination/react-app/src/ListPost/index.js\";\nimport React, { Component } from 'react';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport axios from 'axios';\nimport './styles.css'; // import './utils/todo.css'\n\nimport { POSTS_URL, LOCAL_URL } from '../utils/index'; // const PAGINATION_URL = 'http://127.0.0.1:8001/api/posts/';\n\nexport default class ListPost extends Component {\n  constructor(props) {\n    super(props);\n\n    this.loadPosts = async url => {\n      await axios.get(url).then(res => {\n        console.log(res.data);\n        const posts = res.data.results;\n        this.setState({\n          posts,\n          links: res.data.links\n        });\n      });\n    };\n\n    this.handleDelete = id => {\n      let DELETE_URL = POSTS_URL + id;\n      axios.delete(DELETE_URL).then(res => {\n        alert(\"Postagem deletada com sucesso !\");\n        window.scrollTo(0, 0);\n      });\n    };\n\n    this.handleUpdate = post => {\n      console.log(post);\n    };\n\n    this.prevPage = () => {\n      let toPage = this.state.links.previous;\n      this.loadPosts(toPage);\n    };\n\n    this.nextPage = () => {\n      let toPage = this.state.links.next;\n      this.loadPosts(toPage);\n    };\n\n    this.state = {\n      posts: [],\n      links: '' // links: {\n      //     \"next\": \"http://127.0.0.1:8001/api/posts/?page=2\",\n      //     \"previous\": null\n      // },\n\n    }; // this.handleDelete = this.handleDelete.bind(this)\n    // this.handleUpdate = this.handleUpdate.bind(this)\n  }\n\n  componentDidMount() {\n    this.loadPosts(POSTS_URL);\n  }\n\n  render() {\n    const {\n      links\n    } = this.state;\n    const {\n      posts\n    } = this.state;\n    return React.createElement(\"div\", {\n      className: \"posts-list\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      align: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, \"Lista de postagens\"), React.createElement(\"a\", {\n      href: LOCAL_URL,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, \"Cadastrar nova postagem\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"pagination\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      disabled: links.previous === null,\n      onClick: this.prevPage,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \"Anterior\"), React.createElement(\"button\", {\n      disabled: links.next === null,\n      onClick: this.nextPage,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, \"Pr\\xF3ximo\")), React.createElement(\"div\", {\n      className: \"content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(Table, {\n      className: \"\",\n      \"aria-label\": \"simple table\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(TableHead, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(TableRow, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(TableCell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, \"T\\xEDtulo\"), React.createElement(TableCell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, \"Autor\"), React.createElement(TableCell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, \"Mensagem\"), React.createElement(TableCell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, \"Data\"), React.createElement(TableCell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, \"A\\xE7\\xF5es\"))), React.createElement(TableBody, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, posts.map(post => {\n      return React.createElement(React.Fragment, null, React.createElement(TableRow, {\n        key: post.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, post.title), React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, post.author), React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, post.body), React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, post.publish), React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(IconButton, {\n        \"aria-label\": \"delete\",\n        onClick: () => this.handleDelete(post.id),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, React.createElement(DeleteIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      })), React.createElement(IconButton, {\n        \"aria-label\": \"update\",\n        onClick: () => this.handleUpdate(post),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, React.createElement(CloudUploadIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      })))));\n    })))));\n  }\n\n}","map":{"version":3,"sources":["/home/bitsssun/workspace/react-django-pagination/react-app/src/ListPost/index.js"],"names":["React","Component","Table","TableBody","TableCell","TableHead","TableRow","IconButton","CloudUploadIcon","DeleteIcon","axios","POSTS_URL","LOCAL_URL","ListPost","constructor","props","loadPosts","url","get","then","res","console","log","data","posts","results","setState","links","handleDelete","id","DELETE_URL","delete","alert","window","scrollTo","handleUpdate","post","prevPage","toPage","state","previous","nextPage","next","componentDidMount","render","map","title","author","body","publish"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport axios from 'axios'\nimport './styles.css'\n// import './utils/todo.css'\nimport {POSTS_URL,LOCAL_URL} from '../utils/index'\n// const PAGINATION_URL = 'http://127.0.0.1:8001/api/posts/';\n\n\nexport default class ListPost extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            posts: [],\n            links: '',\n            // links: {\n            //     \"next\": \"http://127.0.0.1:8001/api/posts/?page=2\",\n            //     \"previous\": null\n            // },\n\n\n        }\n        // this.handleDelete = this.handleDelete.bind(this)\n        // this.handleUpdate = this.handleUpdate.bind(this)\n\n    }\n\n    componentDidMount() {\n        this.loadPosts(POSTS_URL)\n    }\n\n    loadPosts = async (url) => {\n        await axios.get(url)\n            .then((res) => {\n                console.log(res.data);\n                const posts = res.data.results\n                this.setState({\n                    posts,\n                    links: res.data.links,\n                })\n\n            })\n    }\n\n    handleDelete = (id) => {\n        let DELETE_URL = POSTS_URL + id;\n        axios.delete(DELETE_URL)\n            .then(res => {\n                alert(\"Postagem deletada com sucesso !\");\n                window.scrollTo(0, 0);\n\n            });\n\n    }\n\n    handleUpdate = (post) => {\n        console.log(post)\n\n    }\n\n    prevPage = () => {\n        let toPage = this.state.links.previous\n        this.loadPosts(toPage);\n    }\n\n    nextPage = () => {\n        let toPage = this.state.links.next\n        this.loadPosts(toPage);\n    }\n\n    render() {\n        const { links } = this.state\n        const { posts } = this.state\n\n        return (\n            <div className=\"posts-list\">\n                <h1 align=\"center\">Lista de postagens</h1>\n                \n                <a href={LOCAL_URL}>Cadastrar nova postagem</a><br /><br />\n\n                <div className=\"pagination\">\n                    <button disabled={links.previous === null} onClick={this.prevPage}>Anterior</button>\n                    <button disabled={links.next === null} onClick={this.nextPage}>Próximo</button>\n                </div>\n\n                <div className=\"content\">\n                    <Table className=\"\" aria-label=\"simple table\">\n                        <TableHead>\n                            <TableRow>\n                                <TableCell>Título</TableCell>\n                                <TableCell>Autor</TableCell>\n                                <TableCell>Mensagem</TableCell>\n                                <TableCell>Data</TableCell>\n                                <TableCell>Ações</TableCell>\n                            </TableRow>\n                        </TableHead>\n                        <TableBody>\n                            {posts.map((post) => {\n                                return <>\n                                    <TableRow key={post.id}>\n\n                                        <TableCell>{post.title}</TableCell>\n                                        <TableCell>{post.author}</TableCell>\n                                        <TableCell>{post.body}</TableCell>\n                                        <TableCell>{post.publish}</TableCell>\n                                        <TableCell>\n                                            <IconButton aria-label=\"delete\" onClick={() => this.handleDelete(post.id)}>\n                                                <DeleteIcon />\n                                            </IconButton>\n                                            <IconButton aria-label=\"update\" onClick={() => this.handleUpdate(post)}>\n                                                <CloudUploadIcon />\n                                            </IconButton>\n                                        </TableCell>\n                                    </TableRow>\n                                </>\n                            })}\n\n                        </TableBody>\n                    </Table>\n                </div>\n            </div>\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}