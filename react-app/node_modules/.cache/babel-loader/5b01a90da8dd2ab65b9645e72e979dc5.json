{"ast":null,"code":"var _jsxFileName = \"/home/bitsssun/workspace/react-django-pagination/react-app/src/App.js\";\nimport React, { Component } from 'react';\nimport SaveIcon from '@material-ui/icons/Save';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport axios from 'axios';\nimport ListPost from './ListPost';\nconst POST_URL = 'http://127.0.0.1:8001/api/posts/';\nexport default class App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      title: '',\n      author: '',\n      body: '',\n      publish: '',\n      error: '',\n      success: ''\n    };\n    this.handleSave = this.handleSave.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  formData() {\n    let form_data = new FormData(); // title: '',\n    //   author: '',\n    //   body: '',\n    //   publish: '',\n\n    form_data.append('title', this.state.title);\n    form_data.append('author', this.state.author);\n    form_data.append('body', this.state.body);\n    form_data.append('publish', this.state.publish);\n    return form_data;\n  }\n\n  handleSave(e) {\n    e.preventDefault();\n    axios({\n      method: 'POST',\n      url: POST_URL,\n      data: this.formData(),\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    }).then(res => {\n      console.log(res.status);\n\n      if (res.status === 200) {\n        console.log('foi');\n        this.setState({\n          success: true\n        });\n      } else {\n        console.log('não foi');\n        this.setState({\n          error: true\n        });\n      }\n    });\n  }\n\n  handleChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n\n  render() {\n    let error;\n    let success;\n\n    if (this.state.error === true) {\n      error = React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, \"'Deu ruim amigo' \");\n    }\n\n    if (this.state.success === true) {\n      success = React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, \"'Deu sucesso amigo' \");\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, error, success, React.createElement(\"h1\", {\n      align: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, \"Fazer um post\"), React.createElement(\"form\", {\n      onSubmit: this.handleSave,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(TextField, {\n      type: \"text\",\n      name: \"title\",\n      label: \"Titulo\",\n      variant: \"outlined\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }), React.createElement(TextField, {\n      type: \"text\",\n      name: \"author\",\n      label: \"Autor\",\n      variant: \"outlined\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }), React.createElement(TextField, {\n      name: \"body\",\n      label: \"Mensagem\",\n      variant: \"outlined\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"date\",\n      name: \"publish\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    })));\n  }\n\n}","map":{"version":3,"sources":["/home/bitsssun/workspace/react-django-pagination/react-app/src/App.js"],"names":["React","Component","SaveIcon","Button","TextField","axios","ListPost","POST_URL","App","constructor","props","state","title","author","body","publish","error","success","handleSave","bind","handleChange","formData","form_data","FormData","append","e","preventDefault","method","url","data","headers","then","res","console","log","status","setState","target","name","value","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport SaveIcon from '@material-ui/icons/Save';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport axios from 'axios';\nimport ListPost from './ListPost'\n\n\nconst POST_URL = 'http://127.0.0.1:8001/api/posts/';\nexport default class App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      title: '',\n      author: '',\n      body: '',\n      publish: '',\n      error: '',\n      success: '',\n\n    }\n    this.handleSave = this.handleSave.bind(this)\n    this.handleChange = this.handleChange.bind(this)\n  }\n\n  formData() {\n    let form_data = new FormData();\n\n    // title: '',\n    //   author: '',\n    //   body: '',\n    //   publish: '',\n\n    form_data.append('title', this.state.title)\n    form_data.append('author', this.state.author)\n    form_data.append('body', this.state.body)\n    form_data.append('publish', this.state.publish)\n\n    return form_data\n  }\n\n  handleSave(e) {\n    e.preventDefault();\n\n    axios({\n      method: 'POST',\n      url: POST_URL,\n      data: this.formData(),\n      headers: { 'Content-Type': 'multipart/form-data' },\n    })\n      .then((res) => {\n        console.log(res.status);\n        if (res.status === 200) {\n          console.log('foi');\n          this.setState({ success: true })\n        }\n        else {\n          console.log('não foi')\n          this.setState({ error: true })\n        }\n      })\n  }\n\n  handleChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    })\n\n  }\n\n  render() {\n    let error\n    let success\n    if (this.state.error === true) {\n      error = <div>'Deu ruim amigo' </div>\n    }\n    if (this.state.success === true) {\n      success = <div>'Deu sucesso amigo' </div>\n    }\n    return (\n      <div>\n        {error}\n        {success}\n\n        <h1 align=\"center\">Fazer um post</h1>\n        <form onSubmit={this.handleSave}>\n          <TextField\n            type=\"text\"\n            name=\"title\"\n            label=\"Titulo\"\n            variant=\"outlined\"\n            onChange={this.handleChange}\n          /><br /><br />\n          <TextField\n            type=\"text\"\n            name=\"author\"\n            label=\"Autor\"\n            variant=\"outlined\"\n            onChange={this.handleChange}\n          /><br /><br />\n          <TextField\n            name=\"body\"\n            label=\"Mensagem\"\n            variant=\"outlined\"\n            onChange={this.handleChange}\n          /><br /><br />\n          <input\n            type=\"date\"\n            name=\"publish\"\n            onChange={this.handleChange}\n          /><br /><br />\n          {/* <Button variant=\"contained\"\n            color=\"primary\"\n            size=\"small\"\n            className=\"\"\n            startIcon={<SaveIcon />}\n          >Salvar </Button> */}\n\n          <input\n            type=\"submit\"\n          /><br /><br />\n\n\n        </form>\n\n        {/* <ListPost /> */}\n      </div>\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}