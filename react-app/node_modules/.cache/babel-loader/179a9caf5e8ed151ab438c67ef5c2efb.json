{"ast":null,"code":"var _jsxFileName = \"/home/bitsssun/workspace/react-django-pagination/react-app/src/ListPost.js\";\nimport React, { Component } from 'react';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport axios from 'axios';\nimport './utils/todo.css';\nconst PAGINATION_URL = 'http://127.0.0.1:8001/api/posts/';\nexport default class ListPost extends Component {\n  constructor(props) {\n    super(props);\n\n    this.loadPosts = async url => {\n      await axios.get(url).then(res => {\n        console.log(res.data);\n        const posts = res.data.results;\n        this.setState({\n          posts,\n          links: res.data.links\n        });\n      });\n    };\n\n    this.handleDelete = id => {\n      console.log(id);\n      let DELETE_URL = PAGINATION_URL + id;\n      console.log(DELETE_URL);\n    };\n\n    this.handleUpdate = post => {\n      console.log(post);\n    };\n\n    this.prevPage = () => {\n      // let toPage = this.state.links.previous\n      console.log(this.state.links.previous); // this.loadPosts(toPage);\n    };\n\n    this.nextPage = () => {\n      // let toPage = this.state.links.next\n      console.log(this.state.links.next); // this.loadPosts(toPage);\n    };\n\n    this.state = {\n      posts: [{\n        \"id\": 2,\n        \"title\": \"T5t3eaaaa\",\n        \"author\": \"Michael Connor\",\n        \"body\": \"aaaaaaaaaaaa\",\n        \"publish\": \"2020-02-26T19:38:01.602653Z\"\n      }, {\n        \"id\": 3,\n        \"title\": \"T5t3eaaaa\",\n        \"author\": \"Michael Connor\",\n        \"body\": \"aaaaaaaaaaaa\",\n        \"publish\": \"2020-02-26T19:38:01.602653Z\"\n      }, {\n        \"id\": 4,\n        \"title\": \"T5t3eaaaa\",\n        \"author\": \"Michael Connor\",\n        \"body\": \"aaaaaaaaaaaa\",\n        \"publish\": \"2020-02-26T19:38:01.602653Z\"\n      }, {\n        \"id\": 5,\n        \"title\": \"T5t3eaaaa\",\n        \"author\": \"Michael Connor\",\n        \"body\": \"aaaaaaaaaaaa\",\n        \"publish\": \"2020-02-26T19:38:01.602653Z\"\n      }, {\n        \"id\": 6,\n        \"title\": \"T5t3eaaaa\",\n        \"author\": \"Michael Connor\",\n        \"body\": \"aaaaaaaaaaaa\",\n        \"publish\": \"2020-02-26T19:38:01.602653Z\"\n      }, {\n        \"id\": 7,\n        \"title\": \"T5t3eaaaa\",\n        \"author\": \"Michael Connor\",\n        \"body\": \"aaaaaaaaaaaa\",\n        \"publish\": \"2020-02-26T19:38:01.602653Z\"\n      }, {\n        \"id\": 8,\n        \"title\": \"T5t3eaaaa\",\n        \"author\": \"Michael Connor\",\n        \"body\": \"aaaaaaaaaaaa\",\n        \"publish\": \"2020-02-26T19:38:01.602653Z\"\n      }, {\n        \"id\": 9,\n        \"title\": \"T5t3eaaaa\",\n        \"author\": \"Michael Connor\",\n        \"body\": \"aaaaaaaaaaaa\",\n        \"publish\": \"2020-02-26T19:38:01.602653Z\"\n      }, {\n        \"id\": 10,\n        \"title\": \"T5t3eaaaa\",\n        \"author\": \"Michael Connor\",\n        \"body\": \"aaaaaaaaaaaa\",\n        \"publish\": \"2020-02-26T19:38:01.602653Z\"\n      }],\n      links: '' // links: {\n      //     \"next\": \"http://127.0.0.1:8001/api/posts/?page=2\",\n      //     \"previous\": null\n      // },\n\n    }; // this.handleDelete = this.handleDelete.bind(this)\n    // this.handleUpdate = this.handleUpdate.bind(this)\n  }\n\n  componentDidMount() {\n    this.loadPosts(PAGINATION_URL);\n  }\n\n  render() {\n    const {\n      links\n    } = this.state;\n    const {\n      posts\n    } = this.state;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      align: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, \"Lista de postagens\"), React.createElement(\"a\", {\n      href: \"http://localhost:3002/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, \"cadastrar nova postagem\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"pagination\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: \"#\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, \"\\xAB\"), React.createElement(\"button\", {\n      disabled: links.previous === null,\n      onClick: this.prevPage,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, \"Anterior\"), React.createElement(\"button\", {\n      disabled: links.next === null,\n      onClick: this.nextPage,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, \"Pr\\xF3ximo\"), React.createElement(\"a\", {\n      href: \"#\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, \"\\xBB\")));\n  }\n\n}","map":{"version":3,"sources":["/home/bitsssun/workspace/react-django-pagination/react-app/src/ListPost.js"],"names":["React","Component","Table","TableBody","TableCell","TableHead","TableRow","IconButton","CloudUploadIcon","DeleteIcon","axios","PAGINATION_URL","ListPost","constructor","props","loadPosts","url","get","then","res","console","log","data","posts","results","setState","links","handleDelete","id","DELETE_URL","handleUpdate","post","prevPage","state","previous","nextPage","next","componentDidMount","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport axios from 'axios'\nimport './utils/todo.css'\n\nconst PAGINATION_URL = 'http://127.0.0.1:8001/api/posts/';\n\n\nexport default class ListPost extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            posts: [{\n                \"id\": 2,\n                \"title\": \"T5t3eaaaa\",\n                \"author\": \"Michael Connor\",\n                \"body\": \"aaaaaaaaaaaa\",\n                \"publish\": \"2020-02-26T19:38:01.602653Z\"\n            },\n            {\n                \"id\": 3,\n                \"title\": \"T5t3eaaaa\",\n                \"author\": \"Michael Connor\",\n                \"body\": \"aaaaaaaaaaaa\",\n                \"publish\": \"2020-02-26T19:38:01.602653Z\"\n            },\n            {\n                \"id\": 4,\n                \"title\": \"T5t3eaaaa\",\n                \"author\": \"Michael Connor\",\n                \"body\": \"aaaaaaaaaaaa\",\n                \"publish\": \"2020-02-26T19:38:01.602653Z\"\n            },\n            {\n                \"id\": 5,\n                \"title\": \"T5t3eaaaa\",\n                \"author\": \"Michael Connor\",\n                \"body\": \"aaaaaaaaaaaa\",\n                \"publish\": \"2020-02-26T19:38:01.602653Z\"\n            },\n            {\n                \"id\": 6,\n                \"title\": \"T5t3eaaaa\",\n                \"author\": \"Michael Connor\",\n                \"body\": \"aaaaaaaaaaaa\",\n                \"publish\": \"2020-02-26T19:38:01.602653Z\"\n            },\n            {\n                \"id\": 7,\n                \"title\": \"T5t3eaaaa\",\n                \"author\": \"Michael Connor\",\n                \"body\": \"aaaaaaaaaaaa\",\n                \"publish\": \"2020-02-26T19:38:01.602653Z\"\n            },\n            {\n                \"id\": 8,\n                \"title\": \"T5t3eaaaa\",\n                \"author\": \"Michael Connor\",\n                \"body\": \"aaaaaaaaaaaa\",\n                \"publish\": \"2020-02-26T19:38:01.602653Z\"\n            },\n            {\n                \"id\": 9,\n                \"title\": \"T5t3eaaaa\",\n                \"author\": \"Michael Connor\",\n                \"body\": \"aaaaaaaaaaaa\",\n                \"publish\": \"2020-02-26T19:38:01.602653Z\"\n            },\n            {\n                \"id\": 10,\n                \"title\": \"T5t3eaaaa\",\n                \"author\": \"Michael Connor\",\n                \"body\": \"aaaaaaaaaaaa\",\n                \"publish\": \"2020-02-26T19:38:01.602653Z\"\n            }\n            ],\n            links: '',\n            // links: {\n            //     \"next\": \"http://127.0.0.1:8001/api/posts/?page=2\",\n            //     \"previous\": null\n            // },\n\n\n        }\n        // this.handleDelete = this.handleDelete.bind(this)\n        // this.handleUpdate = this.handleUpdate.bind(this)\n\n    }\n\n    componentDidMount() {\n        this.loadPosts(PAGINATION_URL)\n    }\n\n    loadPosts = async (url) => {\n        await axios.get(url)\n            .then((res) => {\n                console.log(res.data);\n                const posts = res.data.results\n                this.setState({\n                    posts,\n                    links: res.data.links,\n                })\n\n            })\n    }\n    handleDelete = (id) => {\n        console.log(id);\n        let DELETE_URL = PAGINATION_URL + id;\n        console.log(DELETE_URL)\n    }\n\n    handleUpdate = (post) => {\n        console.log(post)\n\n    }\n\n    prevPage = () => {\n        // let toPage = this.state.links.previous\n        console.log(this.state.links.previous)\n        // this.loadPosts(toPage);\n    }\n\n    nextPage = () => {\n\n        // let toPage = this.state.links.next\n        console.log(this.state.links.next)\n\n        // this.loadPosts(toPage);\n    }\n\n    render() {\n        const { links } = this.state\n        const { posts } = this.state\n\n        return (\n            <div>\n                <h1 align=\"center\">Lista de postagens</h1>\n                <a href=\"http://localhost:3002/\">cadastrar nova postagem</a><br /><br />\n\n                <div className=\"pagination\">\n                    <a href=\"#\">&laquo;</a>\n\n\n                    <button disabled={links.previous === null} onClick={this.prevPage}>Anterior</button>\n                    <button disabled={links.next === null} onClick={this.nextPage}>Próximo</button>\n                    {/*                         \n                    <a href=\"#\" onClick={this.prevPage}>Anterior</a>\n                    <a href=\"#\" onClick={this.nextPage}>Próximo</a> */}\n\n\n                    <a href=\"#\">&raquo;</a>\n                </div>\n\n                {/* <Table className=\"\" aria-label=\"simple table\">\n                    <TableHead>\n                        <TableRow>\n                            <TableCell>Título</TableCell>\n                            <TableCell>Autor</TableCell>\n                            <TableCell>Mensagem</TableCell>\n                            <TableCell>Data</TableCell>\n                            <TableCell>Ações</TableCell>\n                        </TableRow>\n                    </TableHead>\n                    <TableBody>\n                        {this.state.posts.map((post) => {\n                            return <>\n                                <TableRow key={post.id}>\n\n                                    <TableCell>{post.title}</TableCell>\n                                    <TableCell>{post.author}</TableCell>\n                                    <TableCell>{post.body}</TableCell>\n                                    <TableCell>{post.publish}</TableCell>\n                                    <TableCell>\n                                        <IconButton aria-label=\"delete\" onClick={() => this.handleDelete(post.id)}>\n                                            <DeleteIcon />\n                                        </IconButton>\n                                        <IconButton aria-label=\"update\" onClick={() => this.handleUpdate(post)}>\n                                            <CloudUploadIcon />\n                                        </IconButton>\n                                    </TableCell>\n                                </TableRow>\n                            </>\n                        })}\n\n                    </TableBody>\n                </Table> */}\n            </div>\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}